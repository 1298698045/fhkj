{"version":3,"sources":["uni-app:///main.js","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?6517","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?a5f2","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?37e6","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?5716","uni-app:///pages/messages/index.vue","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?f7bb","webpack:///D:/fhkj/uni/WechatOA/pages/messages/index.vue?39f8"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC4L;AAC5L,gBAAgB,mMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAktB,CAAgB,6tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuCtuB,gD;;;AAGA;AACA,wBADA,E;;AAGA,M,kBAAA;AACA;AACA,cADA;AAEA,aAFA;AAGA,oBAHA;AAIA,uBAJA;AAKA,uBALA;AAMA,oBANA;AAOA,iBAPA;AAQA,eARA;;AAUA,G;AACA,Q,oBAAA;AACA;AACA,G;AACA;AACA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA,KATA,GADA,C;;;AAaA;AACA;AACA;AACA,C;AACA;AACA;AACA;AACA;;AAEA,C;;AAEA;AACA,iBADA,E;;AAGA,U,sBAAA;AACA;AACA;AACA,sCADA;AAEA;AACA,mCADA;AAEA,mCAFA,EAFA;;AAMA,QANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,gBADA;AAEA,2BAFA;;AAIA,KAvBA;AAwBA,G;AACA,S,mBAAA,U,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;AACA,Y,sBAAA,I,EAAA,K,EAAA;AACA;AACA,G;AACA,U,sBAAA;AACA;AACA,G;AACA,e,yBAAA,I,EAAA,K,EAAA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA;AACA,oCADA;AAEA,mCAFA;AAGA,2CAHA,EAFA;;AAOA,QAPA,CAOA;AACA;AACA;AACA,KAVA;AAWA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA;AACA,G;;;;;;;;;;;;ACvKA;AAAA;AAAA;AAAA;AAAgzC,CAAgB,+vCAAG,EAAC,C;;;;;;;;;;;ACAp0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/messages/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/messages/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=f0ddf0f0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/messages/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=f0ddf0f0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"wrap\">\n        <van-search :value=\"value\" placeholder=\"搜索\" />\n        <!-- <i-notice-bar icon=\"systemprompt\" color=\"#3399ff\" i-class=\"systemprompt\" closable>\n            启用新消息通知，不错过重要新消息!\n        </i-notice-bar> -->\n        <div class=\"center\">\n            <div class=\"content\" :class=\"{active:num==index}\" v-for=\"(item,index) in list\" :key=\"index\" @touchstart=\"touchstart(item,index)\" @touchend=\"touchend\" @click=\"handleSelelct(item,index)\">\n                <i-row>\n                    <i-col span=\"4\" i-class=\"left\">\n                        <div class=\"imgWrap\">\n                            <img :src=\"imgUrl+item.Icon\" alt=\"\">\n                        </div>\n                    </i-col>\n                    <i-col span=\"15\" i-class=\"centerCol\">\n                        <p class=\"topText\">\n                            {{item.Name}}\n                            <!-- {{index==1?'新闻':index==2?'优盘':'待办事务'}} -->\n                        </p>\n                        <p class=\"minText\">查看{{item.Name}}的内容</p>\n                    </i-col>\n                    <i-col span=\"5\" class=\"rightCol\">\n                        <p class=\"time\">{{item.time}}</p>\n                        <span :class=\"{'radius':item.Quantity<10}\" v-if=\"item.Quantity>0\">{{item.Quantity}}</span>\n                        <!-- <i-badge count=\"66\" i-class-alone=\"demo-badge-alone\" /> -->\n                    </i-col>\n                </i-row>\n            </div>\n        </div>\n        <vue-tab-bar\n            @fetch-index=\"clickIndexNav\"\n            :selectNavIndex=\"selectNavIndex\"\n            :needButton=\"needButton\"\n            :handButton=\"handButton\"\n            :btnText=\"btnText\">\n        </vue-tab-bar>\n    </div>\n</template>\n<script>\nimport { mapState,mapMutations} from 'vuex';\nimport vueTabBar from '../../components/vueTabBar';\nexport default {\n    components:{\n        vueTabBar\n    },\n    data(){\n        return {\n            list:[],\n            num:-1,\n            sessionkey:\"\",\n            selectNavIndex:0,\n            needButton:false,\n            handButton:'',\n            btnText:'',\n            total:\"\"\n        }\n    },\n    onShow(){\n        this.num = -1;\n    },\n    computed:{\n        ...mapState({\n            imgUrl:state=>{\n                return state.user.imgUrl\n            },\n            openid:state=>{\n                return state.loginUser.openid\n            },\n            sessionkey:state=>{\n                return state.loginUser.sessionkey\n            }\n        })\n    },\n    onShow(){\n        wx.hideTabBar();\n        this.getQuery();\n    },\n    onLoad(){\n        let sessionkey = wx.getStorageSync('sessionkey');\n        this.sessionkey = sessionkey;\n        this.getQuery();\n        \n    },\n    methods:{\n        ...mapMutations([\n            'getMessageTotal'\n        ]),\n        getQuery(){\n            console.log(this.$httpWX,this.$api.message.queryList);\n            this.$httpWX.get({\n                url:this.$api.message.queryList,\n                data:{\n                    method:this.$api.msg.query,\n                    SessionKey:this.sessionkey\n                }\n            }).then(res=>{\n                this.list = res.listDta;\n                let total = 0;\n                this.list.map(item=>{\n                    const time = this.getDate(item.ModifiedOn.replace(/-/g,'/'));\n                    item.time = time;\n                    return item;\n                })\n                this.list.forEach(item=>{\n                   total += Number(item.Quantity)\n                })\n                this.total = total;\n                this.getMessageTotal(total);\n                wx.setTabBarBadge({\n                    index: 0,\n                    text: String(total)\n                })\n            })\n        },\n        getDate(ModifiedOn){\n            let time = (new Date(ModifiedOn)).getTime();\n            time = new Date(time);\n            var year = time.getFullYear()+'年';\n            var month = time.getMonth()+1+'月';\n            var date = time.getDate()+'日';\n            const newDate = `${month}${date}`;\n            return newDate;\n        },\n        touchstart(item,index){\n            this.num = index;\n        },\n        touchend(){\n            this.num = -1;\n        },\n        handleSelelct(item,index){\n            console.log(item);\n            // this.num = index;\n            let id = item.ModuleId;\n            this.$httpWX.get({\n                url:this.$api.message.queryList,\n                data:{\n                    method:this.$api.msg.update,\n                    SessionKey:this.sessionkey,\n                    objectTypeCode:item.ObjectTypeCode\n                }\n            }).then(res=>{\n                console.log(res);\n                this.getQuery();\n            })\n            // 107邮件 101待办事务 104新闻\n            if(id==104){\n                const url = '/pages/journalism/main?contentTypeCode='+1;\n                wx.navigateTo({url:url});\n            }else if(id==106){\n                const url = '/pages/usbDrive/main';\n                wx.navigateTo({url:url});\n            }else if(id==101){\n                const url = '/pages/todoBusiness/main'\n                wx.navigateTo({url:url});\n            }else if(id==107){\n                const url = '/pages/email/main'\n                wx.navigateTo({url:url});\n            }else if(id==103){\n                const url = '/pages/schedule/main';\n                wx.switchTab({url:url});\n            }else if(id==100202){\n                const url = '/pages/journalism/main?contentTypeCode='+2;\n                wx.navigateTo({url:url});\n            }else if(id==111){\n                const url = '/pages/meeting/notice/main';\n                wx.navigateTo({url:url});\n            }\n        }\n    }\n}\n</script>\n<style lang=\"scss\">\n    .wrap{\n        width: 100%;\n        height: 100%;\n        .systemprompt{\n            background: #fff!important;\n        }\n        .center{\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            background: #fff;\n            padding-bottom: 80px;\n            .content.active{\n                background: #f3f3f3;\n            }\n            .content{\n                padding: 20rpx;\n                background: #fff;\n                border-bottom: 1rpx solid #e2e3e5;\n                .left{\n                    .imgWrap{\n                        width: 100rpx;\n                        height: 100rpx;\n                        img{\n                            width: 100rpx;\n                            height: 100rpx;\n                            vertical-align: middle;\n                            border-radius: 50%;\n                        }\n                    }\n                }\n                .centerCol{\n                    .topText{\n                        color: #333333;\n                        font-size: 35rpx;\n                        margin-top: 10rpx;\n                    }\n                    .minText{\n                        color: #999999;\n                        font-size: 28rpx;\n                    }\n                }\n                .rightCol{\n                        text-align: right;\n                    .time{\n                        font-size: 23rpx;\n                        color: #999999;\n                        margin-top: 10rpx;\n                    }\n                    span{\n                        width: 40rpx;\n                        height: 32rpx;\n                        line-height: 32rpx;\n                        text-align: center;\n                        background: #ff6666;\n                        color: #fff;\n                        display: inline-block;\n                        font-size: 20rpx;\n                        border-radius: 16rpx;\n                    }\n                    span.radius{\n                        width: 32rpx;\n                        height: 32rpx;\n                        line-height: 32rpx;\n                        border-radius: 50%;\n                        text-align: center;\n                        font-size: 17rpx;\n                    }\n                }\n            }\n        }\n    }\n</style>","import mod from \"-!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\czp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1598955906392\n      var cssReload = require(\"C:/Users/czp/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}